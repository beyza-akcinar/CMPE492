{% extends 'base.html' %}

{% block title %}Yeni Muayene{% endblock %}

{% block content %}
{% load static %}
    <div class="dashboard-content">
        <h2>Yeni Muayene Oluştur</h2>

        <form method="POST" action="{% url 'new_examination' %}">
            {% csrf_token %}

            <!-- Dropdown for selecting patient -->
            {% include 'components/dropdown.html' with id='hasta' label='Hasta Seçin' name='hasta' options=hasta_options %}

            <!-- Date input for the visit date -->
            {% include 'components/dateinput.html' with id='visit-date' label='Muayene Tarihi' name='visit_date' %}

            <!-- Patolojik Bulgular Section -->
            <div class="form-section">
                <h3>Patolojik Bulgular</h3>
                <div>
                    <label for="denge_bozuklugu">Denge Bozukluğu Var mı?</label>
                    <input type="checkbox" id="denge_bozuklugu" name="denge_bozuklugu">
                </div>
                <div>
                    <label for="serebellar_bulgular">Serebellar Bulgular Var mı?</label>
                    <input type="checkbox" id="serebellar_bulgular" name="serebellar_bulgular">
                </div>
                <div>
                    <label for="ense_sertligi">Ense Sertliği Var mı?</label>
                    <input type="checkbox" id="ense_sertligi" name="ense_sertligi">
                </div>
                <div>
                    <label for="parkinsonizm">Parkinsonizm Var mı?</label>
                    <input type="checkbox" id="parkinsonizm" name="parkinsonizm">
                </div>
                <div>
                    <label for="kranial_sinir_bulgulari">Kranial Sinir Bulguları Var mı?</label>
                    <input type="checkbox" id="kranial_sinir_bulgulari" name="kranial_sinir_bulgulari">
                </div>
                <div>
                    <label for="motor_duygusal_bulgular">Motor ve Duygusal Bulgular Var mı?</label>
                    <input type="checkbox" id="motor_duygusal_bulgular" name="motor_duygusal_bulgular">
                </div>
                <div>
                    <label for="patolojik_refleks">Patolojik Refleks Var mı?</label>
                    <input type="checkbox" id="patolojik_refleks" name="patolojik_refleks">
                </div>
            </div>

            <!-- Bilissel Test Sonuclari -->
            <div class="form-section">
                <h3>Bilissel Test Sonuclari</h3>
                <div>
                    <label for="mmse">Mini-Mental State Examination (MMSE)</label>
                    <input type="number" id="mmse" name="mmse">
                </div>
                <div>
                    <label for="moca">Montreal Cognitive Assessment (MoCA)</label>
                    <input type="number" id="moca" name="moca">
                </div>
                <div>
                    <label for="acer">Addenbrooke's Cognitive Examination Revised (ACE-R)</label>
                    <input type="number" id="acer" name="acer">
                </div>
            </div>

            <!-- Kan Tahlili Sonuclari -->
            <div class="form-section">
                <h3>Kan Tahlili Sonuclari</h3>
                <div>
                    <label for="bt">BT</label>
                    <input type="number" id="bt" name="bt">
                </div>
                <div>
                    <label for="tam-kan-hb">Tam Kan-Hb</label>
                    <input type="number" id="tam-kan-hb" name="tam_kan_hb">
                </div>
                <div>
                    <label for="tam-kan-lym">Tam Kan-LYM</label>
                    <input type="number" id="tam-kan-lym" name="tam_kan_lym">
                </div>
                <div>
                    <label for="tam-kan-neu">Tam Kan-NEU</label>
                    <input type="number" id="tam-kan-neu" name="tam_kan_neu">
                </div>
                <div>
                    <label for="tam-kan-plt">Tam Kan-PLT</label>
                    <input type="number" id="tam-kan-plt" name="tam_kan_plt">
                </div>
                <div>
                    <label for="vitamin-b12">Vitamin B12 Seviyesi</label>
                    <input type="number" id="vitamin-b12" name="vitamin_b12">
                </div>
                <div>
                    <label for="ast">Aspartat Aminotransferaz (AST) Değeri</label>
                    <input type="number" id="ast" name="ast">
                </div>
                <div>
                    <label for="alt">Alanin Aminotransferaz (ALT) Değeri</label>
                    <input type="number" id="alt" name="alt">
                </div>
                <div>
                    <label for="ldh">Laktat Dehidrogenaz (LDH) Değeri</label>
                    <input type="number" id="ldh" name="ldh">
                </div>
                <div>
                    <label for="bun">Kan Üre Azotu (BUN) Değeri</label>
                    <input type="number" id="bun" name="bun">
                </div>
                <div>
                    <label for="kreatinin">Kreatinin Değeri</label>
                    <input type="number" id="kreatinin" name="kreatinin">
                </div>
                <div>
                    <label for="uric-acid">Ürik Asit Değeri</label>
                    <input type="number" id="uric-acid" name="uric_acid">
                </div>
                <div>
                    <label for="eritrosit">Eritrosit Değeri</label>
                    <input type="number" id="eritrosit" name="eritrosit">
                </div>
                <div>
                    <label for="sedim">Sedimantasyon Hızı (ESR)</label>
                    <input type="number" id="sedim" name="sedim">
                </div>
                <div>
                    <label for="vldrl">Sifilis Serolojisi (VDRL)</label>
                    <input type="text" id="vldrl" name="vldrl">
                </div>
            </div>

            <!-- BT Section -->
            <div class="form-section">
                <h3>Serebral Bilgisayarlı Tomografi (BT)</h3>
                <div>
                    <label for="bt">BT Sonucu</label>
                    <textarea id="bt" name="bt"></textarea>
                </div>
            </div>

            <!-- MRI Section -->
            <div class="form-section">
                <h3>MRI</h3>
                <div>
                    <label for="mri-notes">MRI Notları</label>
                    <textarea id="mri-notes" name="mri_notes"></textarea>
                </div>
                <div>
                    <label for="mri-tarihi">MRI Tarihi</label>
                    <input type="date" id="mri-tarihi" name="mri_tarihi">
                </div>
                <div>
                    <label for="mri-freesurfer">MRI Freesurfer Sonuçları Yükleyiniz</label>
                    <input type="file" id="mri-freesurfer" name="mri_freesurfer">
                </div>
            </div>

            <!-- PET Section -->
            <div class="form-section">
                <h3>PET</h3>
                <div>
                    <label for="pet1">PET-1</label>
                    <input type="number" id="pet1" name="pet1">
                </div>
                <div>
                    <label for="pet2">PET-2</label>
                    <input type="number" id="pet2" name="pet2">
                </div>
                <div>
                    <label for="pet3">PET-3</label>
                    <input type="number" id="pet3" name="pet3">
                </div>
                <div>
                    <label for="pet4">PET-4</label>
                    <input type="number" id="pet4" name="pet4">
                </div>
                <div>
                    <label for="pet5">PET-5</label>
                    <input type="number" id="pet5" name="pet5">
                </div>
                <div>
                    <label for="pet6">PET-6</label>
                    <input type="number" id="pet6" name="pet6">
                </div>
                <div>
                    <label for="pet7">PET-7</label>
                    <input type="number" id="pet7" name="pet7">
                </div>
                <div>
                    <label for="pet8">PET-8</label>
                    <input type="number" id="pet8" name="pet8">
                </div>
                <div>
                    <label for="pet9">PET-9</label>
                    <input type="number" id="pet9" name="pet9">
                </div>
                <div>
                    <label for="pet10">PET-10</label>
                    <input type="number" id="pet10" name="pet10">
                </div>
            </div>

            <!-- PA Akciger Section -->
            <div class="form-section">
                <h3>Posterior Anterior (PA) Akciğer Grafisi</h3>
                <div>
                    <label for="pa-akciger">PA Akciğer Grafisi</label>
                    <textarea id="pa-akciger" name="pa_akciger"></textarea>
                </div>
            </div>

            <!-- EKG Section -->
            <div class="form-section">
                <h3>Elektrokardiyogram (EKG)</h3>
                <div>
                    <label for="ekg">EKG Sonucu</label>
                    <textarea id="ekg" name="ekg"></textarea>
                </div>
            </div>

            <!-- EEG Section -->
            <div class="form-section">
                <h3>Elektroansefalografi (EEG)</h3>
                <div>
                    <label for="eeg">EEG Sonucu</label>
                    <textarea id="eeg" name="eeg"></textarea>
                </div>
            </div>

            <!-- Ek Testler Section -->
            <div class="form-section">
                <h3>Ek Testler</h3>
                <div>
                    <label for="ek-testler">Ek Testler</label>
                    <textarea id="ek-testler" name="ek_testler"></textarea>
                </div>
            </div>


            <!-- Submit Button -->
            <button type="submit" class="btn-submit">Kaydet</button>
        </form>
    </div>

    <!-- CSS for Section Styling -->
    <style>
        .form-section {
            border: 2px solid #ccc;
            padding: 20px;
            margin-bottom: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
        }

        .form-section h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .form-section div {
            margin-bottom: 10px;
        }

        .btn-submit {
            background-color: #008CBA;
            color: white;
            padding: 12px;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }

        .btn-submit:hover {
            background-color: #007bb5;
        }
    </style>
{% endblock %}
